"use strict";var pickAQuote=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h,quotes=b.quotes,joke=b.joke;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=document.querySelector(".holyheader_quote .quote-content"),d=getIdx(quotes),e=quotes[d],!(c instanceof HTMLElement&&void 0!==e)){a.next=8;break}return f=e.quote,g=e.author,h=f+" <em>(c) "+g+"</em> <a href=\""+joke+"\">(\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043A\u043E\u0442\u0438\u043A\u043E\u0432?)</a>",c.innerHTML=h,a.abrupt("return",e);case 8:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}(),createPortraits=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b){var c,d=b.board,e=d===void 0?"":d,f=b.users;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=document.querySelectorAll(".portrait.portrait--character"),a.abrupt("return",f.forEach(function(a,b){var d=a.username,f=a.user_id,g=a.avatar;c&&c[b]&&(c[b].innerHTML="<a href=\""+e+"/profile.php?id="+f+"\"><img src=\""+e+g+"\" title=\""+d+"\" /></a>")}));case 2:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}(),randomUserGenerator=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h,j,k,l,m=b.board,n=m===void 0?"":m,o=b.filteredUsers,filteredUsers=o===void 0?[]:o,p=b.group_id,group_id=p===void 0?[1,2]:p,q=b.howMany,howMany=q===void 0?3:q;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=group_id.join(","),a.next=3,fetch(n+"/api.php?method=users.get&fields=user_id,username,avatar&limit=100&group_id="+c);case 3:return d=a.sent,a.next=6,d.json();case 6:for(e=a.sent,f=e.response.users,0<filteredUsers.length&&(g=new Set(filteredUsers),f=f.filter(function(a){var b=a.username;return!g.has(b)})),h=new Set([]),j=0;j<howMany;j++){for(k=getIdx(f);h.has(k);)k=getIdx(f);h.add(k)}return l=f.filter(function(a,b){return h.has(b)}),createPortraits({board:n,users:l}),a.abrupt("return",l);case 14:case"end":return a.stop();}},a,this)}));return function(){return a.apply(this,arguments)}}();function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}function getIdx(a){var b=a.length;return Math.floor(Math.random()*b)}