"use strict";function getIdx(a){var b=a.length;return Math.floor(Math.random()*b)}function pickAQuote(a){var quotes=a.quotes,joke=a.joke,b=document.querySelector(".holyheader_quote .quote-content"),c=getIdx(quotes),d=quotes[c];if(b instanceof HTMLElement&&void 0!==d){var e=d.quote,f=d.author;return b.innerHTML=e+" <em>(c) "+f+"</em> <a href=\""+joke+"\">(\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043A\u043E\u0442\u0438\u043A\u043E\u0432?)</a>",d}}function createPortraits(a){var b=a.board,c=b===void 0?"":b,d=a.users,e=document.querySelectorAll(".portrait.portrait--character");return d.forEach(function(a,b){var d=a.username,f=a.user_id,g=a.avatar;e&&e[b]&&(e[b].innerHTML="<a href=\""+c+"/profile.php?id="+f+"\"><img src=\""+c+g+"\" title=\""+d+"\" /></a>")})}function randomUserGenerator(a){var b=a.board,c=void 0===b?"":b,d=a.filteredUsers,filteredUsers=void 0===d?[]:d,e=a.group_id,group_id=void 0===e?[1,2]:e,f=a.howMany,howMany=void 0===f?3:f,g=group_id.join(","),h=fetch(c+"/api.php?method=users.get&fields=user_id,username,avatar&limit=100&group_id="+g).then(function(a){return a.json()}),j=h.response.users;if(0<filteredUsers.length){var o=new Set(filteredUsers);j=j.filter(function(a){var b=a.username;return!o.has(b)})}for(var k,l=new Set([]),m=0;m<howMany;m++){for(k=getIdx(j);l.has(k);)k=getIdx(j);l.add(k)}var n=j.filter(function(a,b){return l.has(b)});return createPortraits({board:c,users:n}),n}