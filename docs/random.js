"use strict";function getIdx(a){var b=a.length;return Math.floor(Math.random()*b)}function pickAQuote(a){var quotes=a.quotes,joke=a.joke,b=document.querySelector(".holyheader_quote .quote-content"),c=getIdx(quotes),d=quotes[c];if(b instanceof HTMLElement&&void 0!==d){var e=d.quote,f=d.author;return b.innerHTML=e+" <em>(c) "+f+"</em> <a href=\""+joke+"\">(\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043A\u043E\u0442\u0438\u043A\u043E\u0432?)</a>",d}}function createPortraits(a){var b=a.board,c=b===void 0?"":b,d=a.users,e=document.querySelectorAll(".portrait.portrait--character");return d.forEach(function(a,b){var d=a.username,f=a.user_id,g=a.avatar;e&&e[b]&&(e[b].innerHTML="<a href=\""+c+"/profile.php?id="+f+"\"><img src=\""+c+g+"\" title=\""+d+"\" /></a>")})}function randomUserGenerator(a){var b=a.board,c=b===void 0?"":b,d=a.filteredUsers,filteredUsers=d===void 0?[]:d,e=a.group_id,group_id=e===void 0?[1,2]:e,f=a.howMany,howMany=f===void 0?3:f,g=group_id.join(",");fetch(c+"/api.php?method=users.get&fields=user_id,username,avatar&limit=100&group_id="+g).then(function(a){return a.json()}).then(function(a){var b=a.response,d=b.users;if(0<filteredUsers.length){var j=new Set(filteredUsers);d=d.filter(function(a){var b=a.username;return!j.has(b)})}for(var e,f=new Set([]),g=0;g<howMany;g++){for(e=getIdx(d);f.has(e);)e=getIdx(d);f.add(e)}var h=d.filter(function(a,b){return f.has(b)});return createPortraits({board:c,users:h}),h}).catch(function(a){return console.error(a)})}