"use strict";function getIdx(a){var b=a.length;return Math.floor(Math.random()*b)}async function createPortraits(a){var b=a.board,c=b===void 0?"":b,d=a.users,e=document.querySelectorAll(".portrait.portrait--character");return d.forEach(function(a,b){var d=a.username,f=a.user_id,g=a.avatar;e&&e[b]&&(e[b].innerHTML="<a href=\""+c+"/profile.php?id="+f+"\"><img src=\""+c+g+"\" title=\""+d+"\" /></a>")})}async function randomUserGenerator(a){var b=a.board,c=void 0===b?"":b,d=a.filteredUsers,filteredUsers=void 0===d?[]:d,e=a.group_id,group_id=void 0===e?[1,2]:e,f=a.howMany,howMany=void 0===f?3:f,g=group_id.join(","),h=await fetch(c+"/api.php?method=users.get&fields=user_id,username,avatar&limit=100&group_id="+g),j=await h.json(),k=j.response.users;if(0<filteredUsers.length){var p=new Set(filteredUsers);k=k.filter(function(a){var b=a.username;return!p.has(b)})}for(var l,m=new Set([]),n=0;n<howMany;n++){for(l=getIdx(k);m.has(l);)l=getIdx(k);m.add(l)}var o=k.filter(function(a,b){return m.has(b)});return createPortraits({board:c,users:o}),o}